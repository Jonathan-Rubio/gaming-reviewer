<!DOCTYPE html>
<html>
<head>
  <title>Edit Review</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .btn-check:checked + .btn-outline-danger {
      background-color: #dc3545;
      color: white;
    }

    .btn-check:checked + .btn-outline-warning {
      background-color: #ffc107;
      color: black;
    }

    .btn-check:checked + .btn-outline-success {
      background-color: #198754;
      color: white;
    }
</style>
</head>
<body class="container mt-5">

  <h2>Edit Review</h2>

  <form action="/update-review" method="POST">
    <input type="hidden" name="reviewId" value="<%= review.id %>">
    <input type="hidden" name="gameId" value="<%= review.game_id %>">

    <div class="mb-3">
      <label class="form-label">Review</label>
      <textarea class="form-control" name="reviewText" rows="4" required><%= review.review_text %></textarea>
    </div>

    <div class="mb-4">
      <label class="form-label fw-bold">Your Rating</label>
      
      <div class="d-flex flex-wrap gap-2">

        <% for(let i = 1; i <= 10; i++) { 
            let colorClass = "";

            if(i <= 4) {
              colorClass = "btn-outline-danger";
            } else if(i <= 7) {
              colorClass = "btn-outline-warning";
            } else {
              colorClass = "btn-outline-success";
            }
        %>

          <input type="radio"
                class="btn-check"
                name="score"
                id="score<%= i %>"
                value="<%= i %>"
                required>

          <label class="btn <%= colorClass %> rounded-pill px-3"
                for="score<%= i %>">
            <%= i %>
          </label>

        <% } %>

      </div>
    </div>


    <button class="btn btn-primary">Update Review</button>
  </form>

</body>
</html>
